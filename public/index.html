<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>å€™ä½è™Ÿç¢¼é¡¯ç¤º</title>
    <script src="/socket.io/socket.io.js"></script>
    <style>
        /*
============================================= */
        /* ===          ğŸ‘‡ğŸ‘‡ RWD CSS ğŸ‘‡ğŸ‘‡           === */
        /*
============================================= */

        html,
        body {
            height: 100%;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: "Microsoft JhengHei", sans-serif;
            text-align: center;
            background: #f0f4f8;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            box-sizing: border-box;
        }

        h1 {
            font-size: clamp(2rem, 6vw, 3rem);
            color: #dc2626;
            margin: 0;
        }

        h2 {
            font-size: clamp(2.5rem, 8vw, 4rem);
            color: #333;
            margin: 20px 0 0 0;
        }

        /* ã€æ–°å¢ã€‘ ä¸»é¡¯ç¤ºå€åŸŸ Flex å®¹å™¨ */
        #main-display-area {
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: center; /* å‚ç›´ç½®ä¸­ */
            width: 100%;
            margin-top: 15px; /* èˆ‡ä¸Šæ–¹ H2 çš„é–“è· */
        }

        /* ã€æ–°å¢ã€‘ å·¦å³å´æ–‡å­—æ¨£å¼ */
        .side-text {
            flex: 1; /* é—œéµï¼šä½”ç”¨æ‰€æœ‰å¯ç”¨ç©ºé–“ */
            font-size: clamp(1.5rem, 4vw, 2.5rem);
            color: #333;
            padding: 0 20px;
            white-space: pre-wrap;
            word-break: break-word;
            /* è®“ç©ºå…ƒç´ ä¸ä½”é«˜åº¦ */
            min-height: 1.2em;
        }
        .side-text:empty {
            min-height: 0;
        }

        #leftText {
            text-align: right; /* æ–‡å­—é å³ (æœå‘è™Ÿç¢¼) */
        }

        #rightText {
            text-align: left; /* æ–‡å­—é å·¦ (æœå‘è™Ÿç¢¼) */
        }

        /* ã€ä¿®æ”¹ã€‘ è™Ÿç¢¼æ¨£å¼ */
        #number {
            font-size: clamp(8rem, 30vw, 12rem);
            color: #2563eb;
            /* é—œéµï¼šè¨­å®šå·¦å³é–“è·ï¼Œé¿å…æ–‡å­—è²¼è‘—è™Ÿç¢¼ */
            margin: 0 clamp(15px, 4vw, 40px);
            font-weight: bold;
            flex-shrink: 0; /* ç¢ºä¿è™Ÿç¢¼æœ¬èº«ä¸è¢«å£“ç¸® */
        }

        /* ã€ä¿®æ”¹ã€‘ ç§»é™¤ #displayText æ¨£å¼ */
        /* ã€ä¿®æ”¹ã€‘ èª¿æ•´éè™Ÿå®¹å™¨çš„ä¸Šé‚Šè· */
        #passed-container {
            margin-top: 10px; /* ç·Šè²¼ä¸»é¡¯ç¤ºå€ */
            width: 100%;
        }

        #passed-container h3 {
            font-size: clamp(1.8rem, 5vw, 2.5rem);
            color: #666;
            margin: 0 0 15px 0;
        }

        #passedList {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
        }

        #passedList li {
            font-size: clamp(2.5rem, 7vw, 3.5rem);
            color: #888;
            background: #e0e0e0;
            padding: 5px 20px;
            border-radius: 10px;
            min-width: 40px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body>
    <h1>ğŸ’‰ç†±è¡€ä¸å®œæ””ï¼ğŸ©¸</h1>
    <h2>ç›®å‰è™Ÿç¢¼ï¼š</h2>

    <div id="main-display-area">
        <div id="leftText" class="side-text"></div>
        <h3 id="number">0</h3>
        <div id="rightText" class="side-text"></div>
    </div>
    
    <div id="passed-container">
        <h3>å·²å«è™Ÿç¢¼ (éè™Ÿ)</h3>
        <ul id="passedList">
        </ul>
    </div>

    <script>
        const socket = io();
        
        // ã€ä¿®æ”¹ã€‘ æŠ“å–æ–°å…ƒç´ 
        const numberEl = document.getElementById("number");
        const leftTextEl = document.getElementById("leftText");
        const rightTextEl = document.getElementById("rightText");
        const passedListEl = document.getElementById("passedList");
        // ã€ç§»é™¤ã€‘ textEl

        socket.on("update", (num) => {
            numberEl.textContent = num;
        });

        // ã€æ–°å¢ã€‘ ç›£è½å·¦å´æ–‡å­—
        socket.on("updateLeftText", (text) => {
            leftTextEl.textContent = text || "";
        });

        // ã€æ–°å¢ã€‘ ç›£è½å³å´æ–‡å­—
        socket.on("updateRightText", (text) => {
            rightTextEl.textContent = text || "";
        });
        
        // ã€ç§»é™¤ã€‘ updateText ç›£è½å™¨

        socket.on("updatePassed", (numbers) => {
            passedListEl.innerHTML = "";
            if (numbers && numbers.length > 0) {
                numbers.forEach((num) => {
                    const li = document.createElement("li");
                    li.textContent = num;
                    passedListEl.appendChild(li);
                });
            }
        });
    </script>
</body>
</html>
